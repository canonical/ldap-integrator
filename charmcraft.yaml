# This file configures Charmcraft.
# See https://juju.is/docs/sdk/charmcraft-config for guidance.

name: ldap-integrator
title: LDAP Integrator
summary: An integrator charm for configuring ldap clients.
description: |
  An integrator charm for configuring ldap clients.
links:
  contact: https://matrix.to/#/!3xNKp3PFtjTOKbwJykMRzruCbSEMkXb8ZRrDKk1vknI?via=ubuntu.com&via=matrix.org&via=laquadrature.net
  issues:
    - https://github.com/canonical/ldap-integrator/issues
  source:
    - https://github.com/canonical/ldap-integrator

type: charm
platforms:
  ubuntu@24.04:amd64:

provides:
  ldap:
    description: |
      Provides LDAP configuration data
    interface: ldap

config:
  options:
    urls:
      description: |
        Comma-separated list of LDAP and LDAPS server URLs for high availability.
        Multiple URLs should point to replicas of the same LDAP infrastructure
        (e.g., primary and backup servers) to provide failover capability.
        This is not intended for connecting to multiple independent LDAP servers.
      type: string
    base_dn:
      description: |
        The base_dn
      type: string
    starttls:
      description: |
        Whether starttls is used, defaults to true
      default: true
      type: boolean
    bind_dn:
      description: |
        The bind_dn
      type: string
    bind_password:
      description: |
        The bind password
      type: secret


parts:
  charm:
    build-packages:
      - "rustc-1.85"
      - "cargo-1.85"
